<!DOCTYPE HTML>
<html><head><title>in Code</title><meta name="description" content="Weblog of Justin Le, covering his various adventures in programming and explorations in the vast worlds of computation physics, and knowledge."><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><meta name="flattr:id" content="3p9jqr"><meta property="og:site_name" content="in Code"><meta property="og:description" content="Weblog of Justin Le, covering his various adventures in programming and explorations in the vast worlds of computation physics, and knowledge."><meta property="og:type" content="website"><meta property="og:title" content="in Code"><meta property="og:image" content="https://blog.jle.im/img/site_logo.jpg"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://blog.jle.im/"><meta name="twitter:card" content="summary"><meta name="twitter:creator:id" content="mstk"><link rel="author" href="https://plus.google.com/107705320197444500140"><link rel="alternate" type="application/rss+xml" title="in Code (RSS Feed)" href="http://feeds.feedburner.com/incodeblog"><link rel="canonical" href="https://blog.jle.im/"><link href="https://blog.jle.im/favicon.ico" rel="shortcut icon"><link href="https://blog.jle.im/css/toast.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/font.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/main.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/page/home.css" rel="stylesheet" type="text/css"><link href="https://blog.jle.im/css/pygments.css" rel="stylesheet" type="text/css"><script type="text/javascript">var page_data = {};
var disqus_shortname='incode';
</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-443711-8', 'jle.im');
ga('send', 'pageview');
</script><script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5234d67a6b68dcd4"></script><script type="text/javascript" src="https://blog.jle.im/js/disqus_count.js"></script></head><body><div id="fb-root"><script>(function(d, s, id) {
 var js, fjs = d.getElementsByTagName(s)[0];
 if (d.getElementById(id)) return;
 js = d.createElement(s); js.id = id;
 js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=641852699171929";
 fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script></div><div id="header-container"><div id="navbar-container" class="tile"><nav id="navbar-content"><div class="nav-info"><h1 class="site-title"><a href="https://blog.jle.im/" class="nav-title">in Code</a></h1><span class="nav-author">Justin Le</span></div><ul class="nav-links"><li><a href="https://blog.jle.im/">home</a></li><li><a href="https://blog.jle.im/entries.html">archives</a></li><div class="clear"></div></ul></nav></div><div id="header-content"></div></div><div id="body-container" class="container"><div id="main-container" class="grid"><section class="home-section" role="main"><header class="tile unit span-grid"><section class="home-banner"><header><h1>in Code</h1></header><hr><div class="copy-content"><h2 id="justin-leabout"><a href="/" title="It&#39;s a picture of me! :D">Justin Le</a></h2>
<p>Welcome! My name is Justin Le. I’m a PhD student at Chapman University in California, studying Computational Science &amp; Applied Maths; I studied Physics and Computer Science at University of California, San Diego :)</p>
<p>This is just my weblog covering my various adventures in programming and explorations in the vast worlds of computation, physics, engineering, mathematics, and knowledge. Expect a healthy curiosity and an only slightly unhealthy obsession for finding new ways to marvel, wonder, and create. Join me if you wish!</p>
<p>Check out my most popular articles: <a href="http://blog.jle.im/entry/inside-my-world-ode-to-functor-and-monad.html">Inside My World (Ode to Functor and Monad)</a> and <a href="http://blog.jle.im/entry/io-monad-considered-harmful.html">“IO Monad” Considered Harmful</a>!</p></div><div class="clear"></div><aside class="social-follows">Follow or support me on: <ul class="social-follows-list"><li><ul class="social-follows-list-social"><li><a class="social-follow-twitter" title="Follow me on Twitter!" href="https://twitter.com/intent/user?user_id=mstk" onclick="window.open(
  &#39;http://twitter.com/intent/user?user_id=907281&#39;,
  &#39;facebook-share-dialog&#39;,
  &#39;width=550,height=520&#39;);
return false;
">Twitter</a></li><li><a class="social-follow-gplus" title="Add me on Google+!" href="https://plus.google.com/+JustinLe">Google+</a></li><li><a class="social-follow-linkedin" title="Connect with me on LinkedIn!" href="https://linkedin.com/in/lejustin">LinkedIn</a></li><li><a class="social-follow-github" title="Fork me on Github!" href="https://github.com/mstksg">Github</a></li><li><a class="social-follow-keybase" title="Track me on Keybase!" href="https://keybase.io/mstksg">Keybase</a></li><li><a class="social-follow-bitcoin" title="Donate via bitcoin!" href="bitcoin:3D7rmAYgbDnp4gp4rf22THsGt74fNucPDU">Bitcoin</a></li></ul></li><li><ul class="social-follows-list-site"><li><a class="social-follow-rss" title="Subscribe to my RSS Feed!" href="http://feeds.feedburner.com/incodeblog">RSS</a></li><li><a class="social-follow-email" title="Subscribe to the mailing list!" href="https://feedburner.google.com/fb/a/mailverify?loc=en_US&amp;uri=incodeblog">Mailing list</a></li></ul></li></ul></aside></section></header><div class="unit three-of-four"><div class="tile"><h2 class="recent-header">Recent Entries</h2></div><ul><li><article class="tile"><header><time datetime="2018-05-22T22:22:55Z" pubdate="" class="pubdate">Tuesday May 22, 2018</time><h3><a href="https://blog.jle.im/entry/in-memory-of-ertugrul-soylemez.html">In Memory of Ertugrul Söylemez (1985 - 2018)</a></h3></header><div class="entry-lede copy-content"><p>I was heartbroken to <a href="https://byorgey.wordpress.com/2018/05/21/ertugrul-soylemez-1985-2018/">find out recently</a> that <a href="http://ertes.eu/about.html">Ertugrul Söylemez</a> has passed away suddenly. Many have come forward to express their sadness about this passing and how much this has impacted the Haskell community, and how much of a loss it is for functional programming at large.</p>
<p>They aren’t wrong; Ertugrul was one of the faces of the friendly, warm, encouraging, patient Haskell teaching that Haskell has grown to be known for. Ertugrul was also one of the original pioneers in the implementation and theory of Functional Reactive Programming and continued to innovate even through this year. His name is now and forever will be synonymous with the “pull-based” variant of functional reactive programming. And the freenode #haskell channel and the Haskell community at large will have one less friendly face who always enjoys helping new people learn.</p>
<p>However, I wanted to just put some words down about his personal influence in my Haskell, Academic, and FOSS career.</p>
<p>When I was a new Haskeller, a lot of things confused me. But the passion of people like Ertugrul to help me understand concepts that I found interesting late into the night was one of the things that really made it worth it.</p>
<p>One of these lead to the creation of my first ever Haskell library, <em><a href="https://hackage.haskell.org/package/auto">auto</a></em>. <em>auto</em> is basically literally a direct translation of one of our conversations (and somewhat of a derivative of his own library <em><a href="https://hackage.haskell.org/package/netwire">netwire</a></em>), and throughout the entire implementation process he was open to the many questions I had. And some of the features of the library (including implicit serialization) were directly his innovations put into practice.</p>
<p>In a slightly different context — as a new PhD student, I was told to follow wherever my curiosity lead me. One of those lines lead me to “comonadic” image processing, which was directly inspired by <a href="https://hub.darcs.net/ertes/articles/browse/media-processing.lhs">this unfinished article</a> of his.</p><p><a href="https://blog.jle.im/entry/in-memory-of-ertugrul-soylemez.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/in-memory-of-ertugrul-soylemez.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/reflection.html" class="tag-a-tag">#reflection</a></li><li><a href="https://blog.jle.im/entries/category/@personal.html" class="tag-a-category">@PERSONAL</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2018-05-14T12:16:34Z" pubdate="" class="pubdate">Monday May 14, 2018</time><h3><a href="https://blog.jle.im/entry/purely-functional-typed-models-3.html">A Purely Functional Typed Approach to Trainable Models (Part 3)</a></h3></header><div class="entry-lede copy-content"><p>Hi again! Today we’re going to jump straight into tying together the functional framework described in this series and see how it can give us some interesting insight, as well as wrapping it up by talking about the scaffolding needed to turn this all into a working system you can apply today.</p>
<p>The name of the game is a purely functional typed approach to writing trainable models using differentiable programming. Be sure to check out <a href="https://blog.jle.im/entry/purely-functional-typed-models-1.html">Part 1</a> and <a href="https://blog.jle.im/entry/purely-functional-typed-models-2.html">Part 2</a> if you haven’t, because this is a direct continuation.</p>
<p>My favorite part about this system really is how we have pretty much free reign over how we can combine and manipulate our models, since they are just functions. Combinators — a word I’m going to be using to mean higher-order functions that return functions — tie everything together so well. Some models we might have thought were standalone entities might just be derivable from other models using basic functional combinators. And the best part is that they’re never <em>necessary</em>; just <em>helpful</em>.</p>
<p>Again, if you want to follow along, the source code for the written code in this module is available <a href="https://github.com/mstksg/inCode/tree/master/code-samples/functional-models/model.hs">on github</a>.</p><p><a href="https://blog.jle.im/entry/purely-functional-typed-models-3.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/purely-functional-typed-models-3.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/backprop.html" class="tag-a-tag">#backprop</a></li><li><a href="https://blog.jle.im/entries/tagged/deep-learning.html" class="tag-a-tag">#deep learning</a></li><li><a href="https://blog.jle.im/entries/tagged/differentiable-programming.html" class="tag-a-tag">#differentiable programming</a></li><li><a href="https://blog.jle.im/entries/tagged/machine-learning.html" class="tag-a-tag">#machine learning</a></li><li><a href="https://blog.jle.im/entries/tagged/modeling.html" class="tag-a-tag">#modeling</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/series/+functional-models.html" class="tag-a-series">+Functional Models</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2018-05-14T12:16:18Z" pubdate="" class="pubdate">Monday May 14, 2018</time><h3><a href="https://blog.jle.im/entry/purely-functional-typed-models-2.html">A Purely Functional Typed Approach to Trainable Models (Part 2)</a></h3></header><div class="entry-lede copy-content"><p>Welcome back! We’re going to be jumping right back into describing a vision of a purely functional typed approach to writing trainable models using differentiable programming. If you’re just joining us, be sure to check out <a href="https://blog.jle.im/entry/purely-functional-typed-models-1.html">Part 1</a> first!</p>
<p>In the last post, we looked at models as “question and answer” systems. We described them as essentially being functions of type</p>
<p><br /><img style="vertical-align:middle" src="https://latex.codecogs.com/png.latex?%0Af%20%3A%20P%20%5Crightarrow%20%28A%20%5Crightarrow%20B%29%0A" alt="
f : P \rightarrow (A \rightarrow B)
" title="
f : P \rightarrow (A \rightarrow B)
" /><br /></p>
<p>Where, for <img style="vertical-align:middle" src="https://latex.codecogs.com/png.latex?f_p%28x%29%20%3D%20y" alt="f_p(x) = y" title="f_p(x) = y" />, you have a “question” <img style="vertical-align:middle" src="https://latex.codecogs.com/png.latex?x%20%3A%20A" alt="x : A" title="x : A" /> and are looking for an “answer” <img style="vertical-align:middle" src="https://latex.codecogs.com/png.latex?y%20%3A%20B" alt="y : B" title="y : B" />. Picking a <em>different</em> <img style="vertical-align:middle" src="https://latex.codecogs.com/png.latex?p%20%3A%20P" alt="p : P" title="p : P" /> will give a <em>different</em> <img style="vertical-align:middle" src="https://latex.codecogs.com/png.latex?A%20%5Crightarrow%20B" alt="A \rightarrow B" title="A \rightarrow B" /> function. We claimed that training a model was finding just the right <img style="vertical-align:middle" src="https://latex.codecogs.com/png.latex?p" alt="p" title="p" /> to use with the model to yield the right <img style="vertical-align:middle" src="https://latex.codecogs.com/png.latex?A%20%5Crightarrow%20B" alt="A \rightarrow B" title="A \rightarrow B" /> function that models your situation.</p>
<p>We then noted that if you have a set of <code>(a, b)</code> observations, and your function is differentiable, you can find the <em>gradient</em> of <code>p</code> with respect to the error of your model on each observation, which tells you how to nudge a given <code>p</code> in order to reduce how wrong your model is for that observation. By repeatedly making observations and taking those nudges, you can arrive at a suitable <code>p</code> to model any situation.</p>
<p>This is great if we consider a model as “question and answer”, but sometimes things don’t fit so cleanly. Today, we’re going to be looking at a whole different type of model (“time series” models) and see how they are different, but also how they are really the same.</p><p><a href="https://blog.jle.im/entry/purely-functional-typed-models-2.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/purely-functional-typed-models-2.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/backprop.html" class="tag-a-tag">#backprop</a></li><li><a href="https://blog.jle.im/entries/tagged/deep-learning.html" class="tag-a-tag">#deep learning</a></li><li><a href="https://blog.jle.im/entries/tagged/differentiable-programming.html" class="tag-a-tag">#differentiable programming</a></li><li><a href="https://blog.jle.im/entries/tagged/machine-learning.html" class="tag-a-tag">#machine learning</a></li><li><a href="https://blog.jle.im/entries/tagged/modeling.html" class="tag-a-tag">#modeling</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/series/+functional-models.html" class="tag-a-series">+Functional Models</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2018-05-14T12:16:08Z" pubdate="" class="pubdate">Monday May 14, 2018</time><h3><a href="https://blog.jle.im/entry/purely-functional-typed-models-1.html">A Purely Functional Typed Approach to Trainable Models (Part 1)</a></h3></header><div class="entry-lede copy-content"><p>With the release of <a href="http://hackage.haskell.org/package/backprop">backprop</a>, I’ve been exploring the space of parameterized models of all sorts, from linear and logistic regression and other statistical models to artificial neural networks, feed-forward and recurrent (stateful). I wanted to see to what extent we can really apply automatic differentiation and iterative gradient decent-based training to all of these different models. Basically, I wanted to see how far we can take <em>differentiable programming</em> (a la <a href="https://www.facebook.com/yann.lecun/posts/10155003011462143">Yann LeCun</a>) as a paradigm for writing trainable models.</p>
<p>Building on other writers, I’m starting to see a picture unifying all of these models, painted in the language of purely typed functional programming. I’m already applying these to models I’m using in real life and in my research, and I thought I’d take some time to put my thoughts to writing in case anyone else finds these illuminating or useful.</p>
<p>As a big picture, I really believe that a purely functional typed approach to differentiable programming is <em>the</em> way to move forward in the future for models like artificial neural networks. In this light, the drawbacks of object-oriented and imperative approaches becomes very apparent.</p>
<p>I’m not the first person to attempt to build a conceptual framework for these types of models in a purely functional typed sense – <a href="http://colah.github.io/posts/2015-09-NN-Types-FP/">Christopher Olah’s famous post</a> wrote a great piece in 2015 that this post heavily builds off of, and is definitely worth a read! We’ll be taking some of his ideas and seeing how they work in real code!</p>
<p>This will be a three-part series, and the intended audience is people who have a passing familiarity with statistical modeling or machine learning/deep learning. The code in these posts is written in Haskell, using the <a href="http://hackage.haskell.org/package/backprop">backprop</a> and <a href="http://hackage.haskell.org/package/hmatrix">hmatrix</a> (with <a href="http://hackage.haskell.org/package/hmatrix-backprop">hmatrix-backprop</a>) libraries, but the main themes and messages won’t be <em>about</em> haskell, but rather about differentiable programming in a purely functional typed setting in general. This isn’t a Haskell post as much as it is an exploration, using Haskell syntax/libraries to implement the points. The <em>backprop</em> library is roughly equivalent to <a href="https://github.com/HIPS/autograd">autograd</a> in python, so all of the ideas apply there as well.</p>
<p>The source code for the written code in this module is available <a href="https://github.com/mstksg/inCode/tree/master/code-samples/functional-models/model.hs">on github</a>, if you want to follow along!</p><p><a href="https://blog.jle.im/entry/purely-functional-typed-models-1.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/purely-functional-typed-models-1.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/backprop.html" class="tag-a-tag">#backprop</a></li><li><a href="https://blog.jle.im/entries/tagged/deep-learning.html" class="tag-a-tag">#deep learning</a></li><li><a href="https://blog.jle.im/entries/tagged/differentiable-programming.html" class="tag-a-tag">#differentiable programming</a></li><li><a href="https://blog.jle.im/entries/tagged/machine-learning.html" class="tag-a-tag">#machine learning</a></li><li><a href="https://blog.jle.im/entries/tagged/modeling.html" class="tag-a-tag">#modeling</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/series/+functional-models.html" class="tag-a-series">+Functional Models</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2018-05-08T12:20:16Z" pubdate="" class="pubdate">Tuesday May 8, 2018</time><h3><a href="https://blog.jle.im/entry/const-applicative-and-monoids.html">The Const Applicative and Monoids</a></h3></header><div class="entry-lede copy-content"><p>The Applicative typeclass has a somewhat infamous reputation for having opaque laws. There are a lot of great <a href="https://wiki.haskell.org/Typeclassopedia#Alternative_formulation">alternative</a> <a href="https://www.reddit.com/r/haskell/comments/2lompe/where_do_the_applicative_laws_come_from/clws90h/">rephrasing</a> of these laws, from many different approaches. For this post, however, I want to talk about Applicative in terms of one of my favorites: <code>Const</code>.</p><p><a href="https://blog.jle.im/entry/const-applicative-and-monoids.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/const-applicative-and-monoids.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/applicatives.html" class="tag-a-tag">#applicatives</a></li><li><a href="https://blog.jle.im/entries/tagged/functional-programming.html" class="tag-a-tag">#functional programming</a></li><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag">#haskell</a></li><li><a href="https://blog.jle.im/entries/tagged/monoids.html" class="tag-a-tag">#monoids</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2018-03-15T10:15:54Z" pubdate="" class="pubdate">Thursday March 15, 2018</time><h3><a href="https://blog.jle.im/entry/you-could-have-invented-matrices.html">You Could Have Invented Matrices!</a></h3></header><div class="entry-lede copy-content"><p>You could have invented matrices!</p>
<p>Let’s talk about vectors. A <strong>vector</strong> (denoted as <img style="vertical-align:middle" src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bx%7D" alt="\mathbf{x}" title="\mathbf{x}" />, a lower-case bold italicized letter) is an element in a <strong>vector space</strong>, which means that it can be “scaled”, like <img style="vertical-align:middle" src="https://latex.codecogs.com/png.latex?c%20%5Cmathbf%7Bx%7D" alt="c \mathbf{x}" title="c \mathbf{x}" /> (the <img style="vertical-align:middle" src="https://latex.codecogs.com/png.latex?c" alt="c" title="c" /> is called a “scalar” — creative name, right?) and added, like <img style="vertical-align:middle" src="https://latex.codecogs.com/png.latex?%5Cmathbf%7Bx%7D%20%2B%20%5Cmathbf%7By%7D" alt="\mathbf{x} + \mathbf{y}" title="\mathbf{x} + \mathbf{y}" />.</p>
<p>In order for vector spaces and their operations to be valid, they just have to obey some <a href="https://en.wikipedia.org/wiki/Vector_space#Definition">common-sense rules</a> (like associativity, commutativity, distributivity, etc.) that allow us to make meaningful conclusions.</p><p><a href="https://blog.jle.im/entry/you-could-have-invented-matrices.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/you-could-have-invented-matrices.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/linear-algebra.html" class="tag-a-tag">#linear algebra</a></li><li><a href="https://blog.jle.im/entries/category/@math.html" class="tag-a-category">@MATH</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2018-02-12T10:27:44Z" pubdate="" class="pubdate">Monday February 12, 2018</time><h3><a href="https://blog.jle.im/entry/introducing-the-backprop-library.html">Introducing the backprop library</a></h3></header><div class="entry-lede copy-content"><p><strong>backprop</strong>: <a href="http://hackage.haskell.org/package/backprop">hackage</a> / <a href="https://github.com/mstksg/backprop">github</a></p>
<p>I’m excited to announce the first official release of the <em><a href="http://hackage.haskell.org/package/backprop">backprop</a></em> library (currently at version 0.1.3.0 on hackage)! <em>backprop</em> is a library that allows you write functions on your heterogeneous values like you would normally and takes them and (with reverse-mode automatic differentiation) automatically generate functions computing their gradients. <em>backprop</em> differs from the related <em><a href="http://hackage.haskell.org/package/ad">ad</a></em> by working with functions using and transforming different types, instead of only one monomorphic scalar type.</p>
<p>This has been something I’ve been working on for a while (trying to find a good API for <em>heterogeneous</em> automatic differentiation), and I’m happy to finally find something that I feel good about, with the help of a <em><a href="http://hackage.haskell.org/package/lens">lens</a></em>-based API.</p>
<p>As a quick demonstration, this post will walk through the creation of a simple neural network implementation (inspired by the <a href="https://www.tensorflow.org/versions/r1.2/get_started/mnist/beginners">Tensorflow Tutorial</a> for beginners) to learn handwritten digit recognition for the MNIST data set. To help tell the story, we’re going to be implementing it “normally”, using the <em><a href="http://hackage.haskell.org/package/hmatrix">hmatrix</a></em> library API, and then re-write the same thing using <em><a href="http://hackage.haskell.org/package/backprop">backprop</a></em> and <em><a href="http://hackage.haskell.org/package/hmatrix-backprop">hmatrix-backprop</a></em> (a drop-in replacement for <em>hmatrix</em>).</p><p><a href="https://blog.jle.im/entry/introducing-the-backprop-library.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/introducing-the-backprop-library.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/artificial-neural-networks.html" class="tag-a-tag">#artificial neural networks</a></li><li><a href="https://blog.jle.im/entries/tagged/functional-programming.html" class="tag-a-tag">#functional programming</a></li><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag">#haskell</a></li><li><a href="https://blog.jle.im/entries/tagged/machine-learning.html" class="tag-a-tag">#machine learning</a></li><li><a href="https://blog.jle.im/entries/tagged/numerical.html" class="tag-a-tag">#numerical</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/series/+backprop.html" class="tag-a-series">+Backprop</a></li></ul></footer></article></li><li><article class="tile"><header><time datetime="2018-01-22T11:34:36Z" pubdate="" class="pubdate">Monday January 22, 2018</time><h3><a href="https://blog.jle.im/entry/interpreters-a-la-carte-duet.html">&quot;Interpreters a la Carte&quot; in Advent of Code 2017 Duet</a></h3></header><div class="entry-lede copy-content"><p>This post is just a fun one exploring a wide range of techniques that I applied to solve the Day 18 puzzles of this past year’s great <a href="https://adventofcode.com/2017">Advent of Code</a>. The puzzles involved interpreting an assembly language on an abstract machine. The twist is that Part A gave you a description of <em>one abstract machine</em>, and Part B gave you a <em>different</em> abstract machine to interpret the <em>same language</em> in.</p>
<p>This twist (one language, but different interpreters/abstract machines) is basically one of the textbook applications of the <em>interpreter pattern</em> in Haskell and functional programming, so it was fun to implement my solution in that pattern — the assembly language source was “compiled” to an abstract monad once, and the difference between Part A and Part B was just a different choice of interpreter.</p>
<p>Even <em>more</em> interesting is that the two machines are only “half different” – there’s one aspect of the virtual machines that are the same between the two parts, and aspect that is different. This means that we can apply the “data types a la carte” technique in order to mix and match isolated components of virtual machine interpreters, and re-use code whenever possible in assembling our interpreters for our different machines! This can be considered an extension of the traditional interpreter pattern: the <em>modular</em> interpeter pattern.</p>
<p>This blog post will not necessarily be a focused tutorial on this trick/pattern, but rather an explanation on my solution centered around this pattern, where I will also add in insight on how I approach and solve non-trivial Haskell problems. We’ll be using the <em><a href="https://hackage.haskell.org/package/operational">operational</a></em> package to implement our interpreter pattern program and the <em><a href="https://hackage.haskell.org/package/type-combinators">type-combinators</a></em> package to implement the modularity aspect, and along the way we’ll also use mtl typeclasses and classy lenses.</p>
<p>The source code is <a href="https://github.com/mstksg/inCode/tree/master/code-samples/duet/Duet.hs">available online</a> and is executable as a stack script. This post is written to be accessible for early-intermediate Haskell programmers.</p><p><a href="https://blog.jle.im/entry/interpreters-a-la-carte-duet.html" class="link-readmore">Read more &hellip; </a> <a href="https://blog.jle.im/entry/interpreters-a-la-carte-duet.html#disqus_thread" class="link-comment">Comments</a></p></div><footer><ul class="tag-list"><li><a href="https://blog.jle.im/entries/tagged/functional-programming.html" class="tag-a-tag">#functional programming</a></li><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag">#haskell</a></li><li><a href="https://blog.jle.im/entries/tagged/lens.html" class="tag-a-tag">#lens</a></li><li><a href="https://blog.jle.im/entries/tagged/types.html" class="tag-a-tag">#types</a></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category">@HASKELL</a></li><li><a href="https://blog.jle.im/entries/series/+beginner-intermediate-haskell-projects.html" class="tag-a-series">+Beginner/Intermediate Haskell Projects</a></li></ul></footer></article></li></ul><footer class="tile home-footer"><nav><ul><li class="home-next"><a href="https://blog.jle.im/home/2.html">&larr; Older</a></li></ul><div class="clear"></div></nav></footer></div><nav class="unit one-of-four home-sidebar"><div class="tile home-links"><ul>
<li><h3 id="links">Links</h3>
<ul>
<li><a href="https://github.com/mstksg" title="Github">Github</a></li>
<li><a href="https://keybase.io/mstksg" title="Keybase">Keybase (PGP)</a></li>
<li><a href="http://cv.jle.im" title="Resume">Resumé</a></li>
<li><a href="https://stackoverflow.com/users/292731/justin-l" title="Stack Overflow">Stack Overflow</a></li>
<li><a href="https://linkedin.com/in/lejustin" title="LinkedIn">LinkedIn</a></li>
<li><a href="https://coinbase.com/mstksg" title="Bitcoin">Bitcoin</a></li>
</ul></li>
<li><h3 id="social">Social</h3>
<ul>
<li><a href="https://twitter.com/mstk" title="Twitter">Twitter</a></li>
<li><a href="https://plus.google.com/+JustinLe" title="Google+">Google+</a></li>
<li><a href="https://facebook.com/mstksg" title="Facebook">Facebook</a></li>
<li><a href="https://youtube.com/justinlemusic" title="Youtube">Youtube</a></li>
</ul></li>
</ul></div><div class="tile home-tags"><ul><li class="home-category-list"><h3><a href="https://blog.jle.im/categories.html">Topics</a></h3><ul><li><a href="https://blog.jle.im/entries/category/@auto.html" class="tag-a-category" title="Posts about the auto library, a library offering a denotative, locally stateful
programming DSL and platform. Check out the README, tutorial, or examples for
more information!">@Auto</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/category/@computation.html" class="tag-a-category" title="Posts that deal with numerical techniques and the art and science of,
well...computing things.">@Computation</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/category/@engineering.html" class="tag-a-category" title="Posts about engineering, the practical art of taming the physical world.">@Engineering</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/category/@haskell.html" class="tag-a-category" title="Functional, pure, non-strict, statically and strongly typed, natively
compiled...really just the king of great languages.">@Haskell</a>&nbsp;<span>(40)</span></li><li><a href="https://blog.jle.im/entries/category/@math.html" class="tag-a-category" title="@MATH">@Math</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/category/@meta.html" class="tag-a-category" title="Posts about this blog or blogging in general. So meta.">@Meta</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/category/@personal.html" class="tag-a-category" title="@PERSONAL">@Personal</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/category/@physics.html" class="tag-a-category" title="Regarding the models that describe the physical world.">@Physics</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/category/@projects.html" class="tag-a-category" title="Progress or presentations of completed or ongoing open source projects I have
worked/am working on. Hopefully either the development process or the end
product can be useful to someone!">@Projects</a>&nbsp;<span>(6)</span></li><li><a href="https://blog.jle.im/entries/category/@ramblings.html" class="tag-a-category" title="My slight ramblings on subjects of interest (to me and hopefully to you too!).
Lots of surveys and introducts to new subjects.">@Ramblings</a>&nbsp;<span>(17)</span></li><li><a href="https://blog.jle.im/entries/category/@reference.html" class="tag-a-category" title="@REFERENCE">@Reference</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/category/@tutorials.html" class="tag-a-category" title="Technical tutorials/walkthroughs on specific programming processes and problems
that I&#39;ve struggled through in the past.">@Tutorials</a>&nbsp;<span>(11)</span></li></ul></li><li class="home-tags-list"><h3><a href="https://blog.jle.im/tags.html">Tags</a></h3><ul><li><a href="https://blog.jle.im/entries/tagged/haskell.html" class="tag-a-tag" title="#haskell">#haskell</a>&nbsp;<span>(40)</span></li><li><a href="https://blog.jle.im/entries/tagged/functional-programming.html" class="tag-a-tag" title="#functional programming">#functional programming</a>&nbsp;<span>(22)</span></li><li><a href="https://blog.jle.im/entries/tagged/monads.html" class="tag-a-tag" title="#monads">#monads</a>&nbsp;<span>(9)</span></li><li><a href="https://blog.jle.im/entries/tagged/types.html" class="tag-a-tag" title="#types">#types</a>&nbsp;<span>(8)</span></li><li><a href="https://blog.jle.im/entries/tagged/dependent-types.html" class="tag-a-tag" title="#dependent types">#dependent types</a>&nbsp;<span>(6)</span></li><li><a href="https://blog.jle.im/entries/tagged/machine-learning.html" class="tag-a-tag" title="#machine learning">#machine learning</a>&nbsp;<span>(6)</span></li><li><a href="https://blog.jle.im/entries/tagged/singletons.html" class="tag-a-tag" title="#singletons">#singletons</a>&nbsp;<span>(5)</span></li><li><a href="https://blog.jle.im/entries/tagged/arrows.html" class="tag-a-tag" title="#arrows">#arrows</a>&nbsp;<span>(4)</span></li><li><a href="https://blog.jle.im/entries/tagged/io.html" class="tag-a-tag" title="#io">#io</a>&nbsp;<span>(4)</span></li><li><a href="https://blog.jle.im/entries/tagged/numerical-methods.html" class="tag-a-tag" title="#numerical methods">#numerical methods</a>&nbsp;<span>(4)</span></li><li><a href="https://blog.jle.im/entries/tagged/artificial-neural-networks.html" class="tag-a-tag" title="#artificial neural networks">#artificial neural networks</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/auto.html" class="tag-a-tag" title="Posts about the auto library, a library offering a denotative, locally stateful
programming DSL and platform.">#auto</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/auto-machines.html" class="tag-a-tag" title="Posts about the &quot;automation arrow&quot; type, an implementation of the mathematical
&quot;mealy machine&quot;.">#auto-machines</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/backprop.html" class="tag-a-tag" title="#backprop">#backprop</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/deep-learning.html" class="tag-a-tag" title="#deep learning">#deep learning</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/differentiable-programming.html" class="tag-a-tag" title="#differentiable programming">#differentiable programming</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/machines.html" class="tag-a-tag" title="#machines">#machines</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/modeling.html" class="tag-a-tag" title="#modeling">#modeling</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/numerical.html" class="tag-a-tag" title="#numerical">#numerical</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/physics.html" class="tag-a-tag" title="#physics">#physics</a>&nbsp;<span>(3)</span></li><li><a href="https://blog.jle.im/entries/tagged/bash.html" class="tag-a-tag" title="#bash">#bash</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/control-theory.html" class="tag-a-tag" title="#control theory">#control theory</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/existential-types.html" class="tag-a-tag" title="#existential types">#existential types</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/linear-algebra.html" class="tag-a-tag" title="#linear algebra">#linear algebra</a>&nbsp;<span>(2)</span></li><li><a href="https://blog.jle.im/entries/tagged/abominations.html" class="tag-a-tag" title="#abominations">#abominations</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/ad.html" class="tag-a-tag" title="#ad">#ad</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/algebra.html" class="tag-a-tag" title="#algebra">#algebra</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/applicatives.html" class="tag-a-tag" title="#applicatives">#applicatives</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/challenges.html" class="tag-a-tag" title="#challenges">#challenges</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/chapman.html" class="tag-a-tag" title="#chapman">#chapman</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/command-line.html" class="tag-a-tag" title="#command line">#command line</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/doctorate.html" class="tag-a-tag" title="#doctorate">#doctorate</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/education.html" class="tag-a-tag" title="#education">#education</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/fay.html" class="tag-a-tag" title="#fay">#fay</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/fortran.html" class="tag-a-tag" title="#fortran">#fortran</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/functional-reactive-programming.html" class="tag-a-tag" title="#functional reactive programming">#functional reactive programming</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/ghcjs.html" class="tag-a-tag" title="#ghcjs">#ghcjs</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/hakyll.html" class="tag-a-tag" title="#hakyll">#hakyll</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/heroku.html" class="tag-a-tag" title="#heroku">#heroku</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/javascript.html" class="tag-a-tag" title="#javascript">#javascript</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/lens.html" class="tag-a-tag" title="#lens">#lens</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/monoids.html" class="tag-a-tag" title="#monoids">#monoids</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/ocaml.html" class="tag-a-tag" title="#ocaml">#ocaml</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/outdated.html" class="tag-a-tag" title="#outdated">#outdated</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/parallelism.html" class="tag-a-tag" title="#parallelism">#parallelism</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/pipes.html" class="tag-a-tag" title="#pipes">#pipes</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/programming-languages.html" class="tag-a-tag" title="#programming languages">#programming languages</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/prolog.html" class="tag-a-tag" title="#prolog">#prolog</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/purescript.html" class="tag-a-tag" title="#purescript">#purescript</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/reflection.html" class="tag-a-tag" title="#reflection">#reflection</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/ruby.html" class="tag-a-tag" title="#ruby">#ruby</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/scripting.html" class="tag-a-tag" title="#scripting">#scripting</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/shake.html" class="tag-a-tag" title="#shake">#shake</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/shell-scripting.html" class="tag-a-tag" title="#shell scripting">#shell scripting</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/unix.html" class="tag-a-tag" title="#unix">#unix</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/utilities.html" class="tag-a-tag" title="#utilities">#utilities</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/vim.html" class="tag-a-tag" title="#vim">#vim</a>&nbsp;<span>(1)</span></li><li><a href="https://blog.jle.im/entries/tagged/web-development.html" class="tag-a-tag" title="#web development">#web development</a>&nbsp;<span>(1)</span></li></ul></li></ul></div></nav></section></div></div><div id="footer-container"><div id="footer-content"><div class="tile"><div class="footer-copyright">&copy; 2018 Justin Le (<a href="https://creativecommons.org/licenses/by-nc-nd/3.0/" class="license">CC-BY-NC-ND 3.0</a>)</div><div class="footer-follow social-follows"><ul class="social-follows-list"><li><ul class="social-follows-list-social"><li><a class="social-follow-twitter" title="Follow me on Twitter!" href="https://twitter.com/intent/user?user_id=mstk" onclick="window.open(
  &#39;http://twitter.com/intent/user?user_id=907281&#39;,
  &#39;facebook-share-dialog&#39;,
  &#39;width=550,height=520&#39;);
return false;
">Twitter</a></li><li><a class="social-follow-gplus" title="Add me on Google+!" href="https://plus.google.com/+JustinLe">Google+</a></li><li><a class="social-follow-linkedin" title="Connect with me on LinkedIn!" href="https://linkedin.com/in/lejustin">LinkedIn</a></li><li><a class="social-follow-github" title="Fork me on Github!" href="https://github.com/mstksg">Github</a></li><li><a class="social-follow-keybase" title="Track me on Keybase!" href="https://keybase.io/mstksg">Keybase</a></li><li><a class="social-follow-bitcoin" title="Donate via bitcoin!" href="bitcoin:3D7rmAYgbDnp4gp4rf22THsGt74fNucPDU">Bitcoin</a></li></ul></li><li><ul class="social-follows-list-site"><li><a class="social-follow-rss" title="Subscribe to my RSS Feed!" href="http://feeds.feedburner.com/incodeblog">RSS</a></li><li><a class="social-follow-email" title="Subscribe to the mailing list!" href="https://feedburner.google.com/fb/a/mailverify?loc=en_US&amp;uri=incodeblog">Mailing list</a></li></ul></li></ul></div></div></div></div></body></html>