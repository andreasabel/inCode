\documentclass[]{article}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
    \usepackage{xltxtra,xunicode}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Mapping=tex-text,Scale=MatchLowercase}
  \newcommand{\euro}{â‚¬}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{\usepackage{microtype}}{}
\usepackage[margin=1in]{geometry}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\ifxetex
  \usepackage[setpagesize=false, % page size defined by xetex
              unicode=false, % unicode breaks when used with xetex
              xetex]{hyperref}
\else
  \usepackage[unicode=true]{hyperref}
\fi
\hypersetup{breaklinks=true,
            bookmarks=true,
            pdfauthor={Justin Le},
            pdftitle={Degenerate Hyper-Dimensional Game of Life: Pushing Advent of Code to its Limits},
            colorlinks=true,
            citecolor=blue,
            urlcolor=blue,
            linkcolor=magenta,
            pdfborder={0 0 0}}
\urlstyle{same}  % don't use monospace font for urls
% Make links footnotes instead of hotlinks:
\renewcommand{\href}[2]{#2\footnote{\url{#1}}}
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\setcounter{secnumdepth}{0}

\title{Degenerate Hyper-Dimensional Game of Life: Pushing Advent of Code to its Limits}
\author{Justin Le}

\begin{document}
\maketitle

\emph{Originally posted on
\textbf{\href{https://blog.jle.im/entry/degenerate-hyper-dimensional-game-of-life.html}{in
Code}}.}

This is a story about breaking the degenerate hyper-dimensional game of life!
Let's travel back in time to the night before December 17, 2020: The release of
\href{https://adventofcode.com/2020/day/17}{``Conway Cubes''}, day 17 of the
``Advent of Code'' of fun little coding puzzles building up to Christmas. One
part I've always found especially fun is that, because the problems are so
self-contained and tidy, they are often \emph{open-ended} in the interesting
ways you can solve them or expand them.

On the surface, it seems to essentially be a straightforward expansion of
{[}Conway's Game Of Life{]}{[}{]}. GoL is a simulation played out on an infinite
2d grid, where certain cells are ``on'' and ``off'', and at each step of the
simulation, the on/off cells spread and propagate in fascinating ways.

The twist of the Advent of Code puzzle is it asks what would happen if we played
out the rules of GoL in 3d, and then 4d! The ``starting conditions'' are a 8x8
2D grid that every puzzle solver receives their own one of, and to solve the
puzzle you must simulate six steps of GoL for your personal input and count the
number of live cells at the end of it. For example, my xy starting conditions
were

\begin{verbatim}
#####..#
#..###.#
###.....
.#.#.#..
##.#..#.
######..
.##..###
###.####
\end{verbatim}

After 6 steps for 4-dimensional game of life, I had 2620 total points. And that
was that.

Simple enough, right? Afterwards, when discussing with some friends, we started
talking about the trade-offs of different implementations and realized that
dimensionality was no joke\ldots as you upped the number of dimensions, the
number of points you have to consider grow as
\includegraphics{https://latex.codecogs.com/png.latex?O\%28\%282t\%2B8\%29\%5Ed\%29},
and the number of neighbors of each point to check grows as
\includegraphics{https://latex.codecogs.com/png.latex?O\%283\%5Ed\%29}\ldots{} I
took my solution for d=4 and could \emph{barely} churn out d=6 (in three
minutes), since even at d=6 you have to consider 729 neighbors for (potentially)
each of the 64,000,000 points. I had a dream that t=6, d=10 just \emph{might} be
possible\ldots but clearly not without some major breakthrough.

Until someone brought something up\ldots if we look at the 3d version, we see
there's actually a \emph{mirror symmetry}! That is, because everything starts
off on the xy plane, with z=0 and w=0, the resulting progression must be
symmetrical on both sides.

\begin{figure}
\centering
\includegraphics{/img/entries/advent-gol/life3d.gif}
\caption{d=3 animation (u/ZuBsPaCe)}
\end{figure}

This means that we only have to simulate \emph{half} of the points (for each
extra dimension) to get the answer, \emph{halving} the number of points for d=3,
saving a factor of 4 for d=4, saving a factor of 8 for d=5, etc.
(\includegraphics{https://latex.codecogs.com/png.latex?O\%282\%5E\%7Bd-2\%7D\%29}).
After implementing this optimization, I was able to run d=7 in under \emph{six
minutes} (and d=8 in 75 minutes).

What's more is that this made us realize that there were potentially more
breakthroughs we could get by exploiting the fact that we are only given a 2d
slice\ldots we didn't know what those could be yet, but suddenly, d=10 seemed
attainable\ldots maybe?

And such a ``maybe'' (as posed in
\href{https://www.reddit.com/r/adventofcode/comments/kfb6zx/day_17_getting_to_t6_at_for_higher_spoilerss/}{this
reddit thread I started}) turned into a month-long quest of breakthrough after
breakthrough, exploting different aspects of this 2d degeneracy! It was a long,
harrowing journey full of sudden twists and turns and bursts of excitement when
new innovations came. And in the end, the hopeful question ``d=8 took 75
minutes\ldots what if d=10 was possible?'' turned into \ldots{} (spoilers)
\ldots{} \textbf{d=10 in 100 milliseconds, d=40 in eight minutes.}

Curious? Let's see how the story unfolded!

\hypertarget{signoff}{%
\section{Signoff}\label{signoff}}

Hi, thanks for reading! You can reach me via email at
\href{mailto:justin@jle.im}{\nolinkurl{justin@jle.im}}, or at twitter at
\href{https://twitter.com/mstk}{@mstk}! This post and all others are published
under the \href{https://creativecommons.org/licenses/by-nc-nd/3.0/}{CC-BY-NC-ND
3.0} license. Corrections and edits via pull request are welcome and encouraged
at \href{https://github.com/mstksg/inCode}{the source repository}.

If you feel inclined, or this post was particularly helpful for you, why not
consider \href{https://www.patreon.com/justinle/overview}{supporting me on
Patreon}, or a \href{bitcoin:3D7rmAYgbDnp4gp4rf22THsGt74fNucPDU}{BTC donation}?
:)

\end{document}
